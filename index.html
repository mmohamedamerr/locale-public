<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locale - Speak Any Language Fluently</title>
    <link rel="icon" type="image/png" href="locale logo.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2VQBSTDTNK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2VQBSTDTNK');
    </script>
</head>

<body>

    <!-- Announcement Bar -->
    <div class="announcement-bar" onclick="document.getElementById('waitlist').scrollIntoView({behavior: 'smooth'})">
        <p>Join the waiting list to unlock beta access plus a special discount for early adopters.</p>
    </div>

    <header>
        <div class="container">
            <div class="logo-container" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="cursor: pointer;">
                <img src="locale logo.png" alt="Locale Logo" class="logo">
                <span class="logo-text">LOCALE</span>
            </div>
            <nav>
                <a href="#waitlist" onclick="document.getElementById('waitlist').scrollIntoView({behavior: 'smooth'}); return false;">Waitlist</a>
                <a href="#pricing" onclick="document.getElementById('pricing').scrollIntoView({behavior: 'smooth'}); return false;">Pricing</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="hero" class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <img src="locale logo.png" alt="Locale Logo" class="hero-logo">
                    <h1>You can officially speak any language fluently</h1>
                    <p>Your conversations should never be limited by borders. Locale breaks language barriers with
                        real-time, human-like translations—so you can connect, work, love and travel anywhere.</p>
                    <button class="primary-btn" onclick="document.getElementById('waitlist').scrollIntoView({behavior: 'smooth'})">Join our waitlist</button>
                </div>
            </div>
        </section>

        <section class="app-showcase-section">
            <div class="container">
                <img src="local landingdesign.png" alt="Locale App Screenshots" class="app-screenshots">
            </div>
        </section>

        <section id="waitlist" class="waitlist-section">
            <div class="container">
                <div class="waitlist-content">
                    <div class="email-icon">✉️</div>
                    <h2>Join our waitlist</h2>
                    <p>Join the waiting list today and unlock exclusive beta access plus a special founder's discount for early adopters.</p>
                    <form class="waitlist-form" id="waitlistForm">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="jane@gamil.com" required>
                        </div>
                        <div class="form-group">
                            <label for="suggestion">Any feature you want to see?(optinal)</label>
                            <input type="text" id="suggestion" name="suggestion" placeholder="suggest a feature">
                        </div>
                        <div class="actions">
                            <button type="submit" class="join-btn">join waitlist</button>
                            <button type="button" class="google-btn" id="googleJoin" aria-label="Join with Google">
                                <svg class="google-icon" viewBox="0 0 48 48" aria-hidden="true">
                                    <path fill="#EA4335" d="M24 9.5c3.02 0 5.74 1.04 7.88 3.08l5.9-5.9C34.49 3.1 29.69 1.5 24 1.5 14.86 1.5 6.9 6.88 3.24 14.7l6.88 5.33C12.1 14.46 17.6 9.5 24 9.5z"/>
                                    <path fill="#4285F4" d="M46.5 24.5c0-1.64-.16-3.21-.46-4.73H24v9.06h12.7c-.54 2.91-2.18 5.37-4.66 7.02l7.12 5.52C43.96 37.76 46.5 31.65 46.5 24.5z"/>
                                    <path fill="#FBBC05" d="M10.12 27.86A14.49 14.49 0 0 1 9 24c0-1.34.22-2.63.62-3.86l-6.38-5.44A23.95 23.95 0 0 0 .5 24c0 3.93.96 7.64 2.66 10.9l6.96-7.04z"/>
                                    <path fill="#34A853" d="M24 47.5c6.48 0 11.93-2.13 15.9-5.82l-7.12-5.52c-2 1.35-4.56 2.19-8.78 2.19-6.39 0-11.85-4.94-13.16-11.49l-6.96 7.04C7.47 42.95 15.07 47.5 24 47.5z"/>
                                    <path fill="none" d="M0 0h48v48H0z"/>
                                </svg>
                            </button>
                        </div>
                    </form>
                    <p class="community-text">Join +350 other Locales</p>
                </div>
            </div>
        </section>

        <!-- Features Section with Cards -->
        <section class="features-section">
            <div class="container">
                <h2 class="section-title-large">Speak Any Language. As If It Were Your Own.</h2>
                <p class="quote-style">"Locale is not just translation—it's freedom of speech, everywhere"</p>

                <div class="features-cards">
                    <!-- Feature Card 1: The Smarter Way to Communicate -->
                    <div class="feature-card card-1">
                        <div class="card-icon">
                            <img src="meeting.png" alt="Meeting Icon" class="feature-icon">
                        </div>
                        <h3>The Smarter Way to Communicate</h3>
                        <p>Other translation tools give you literal words. Locale gives you true meaning—tone, context,
                            slang, and cultural nuance included.</p>
                        <div class="feature-list">
                            <ul>
                                <li>✔️ Natural, real-time voice translations</li>
                                <li>✔️ Works for meetings, travel, or daily chats</li>
                            </ul>
                            <ul>
                                <li>✔️ Adapts to your speaking style</li>
                                <li>✔️ Understands idioms & slang</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Feature Card 2: Built for Real Conversations -->
                    <div class="feature-card card-2">
                        <div class="card-icon">
                            <img src="communication.png" alt="Communication Icon" class="feature-icon">
                        </div>
                        <h3>Built for Real Conversations</h3>
                        <p>150+ Languages: From English to Swahili to Arabic dialects</p>
                        <div class="feature-list">
                            <ul>
                                <li>✔️ Auto detection: Locale detects the slang through location or voice</li>
                                <li>✔️ Seamless Integration: Works effortlessly across all your devices</li>
                            </ul>
                            <ul>
                                <li>✔️ Privacy First: Your conversations stay yours</li>
                                <li>✔️ Offline Travel Mode: Translate anywhere, no internet needed</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="quote-section">
            <div class="container">
                <p class="quote">"I created Local because I know how hard it is to connect when language gets in the
                    way. Traveling, meeting new people, or even doing business shouldn't be limited by words. So I built
                    Local to make conversations natural, simple, and human again"</p>
                <p class="founder">Founder Mohamed Amer</p>
            </div>
        </section>

        <section class="stats-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="150">0</span>
                            <h4>Languages Supported</h4>
                            <p>From English and Spanish to Japanese dialects and beyond</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="300">0</span>
                            <h4>Early Access Signups</h4>
                            <p>People already waiting to try Locale before launch.</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="100">0</span>
                            <h4>Human-Like Translations</h4>
                            <p>Understands slang, idioms, context and YOU — not just words.</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="5">0</span>
                            <h4>Setup Time</h4>
                            <p>Start talking instantly — no complex onboarding.</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="40">0</span>
                            <h4>Business Meetings Translated</h4>
                            <p>Pilot users tested Locale in real team calls across 6 countries.</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-item">
                            <span class="number" data-target="120">0</span>
                            <h4>Cross-Culture Connections</h4>
                            <p>Early users built real friendships and collaborations across 10+ countries.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="pricing" class="pricing-section">
            <div class="container">
                <h2>Pricing</h2>
                <div class="pricing-cards">

                    <div class="card starter">
                        <h3>Starter</h3>
                        <p class="price">$15</p>
                        <p class="duration">/ month</p>
                        <hr>
                        <ul>
                            <li>60 minutes included—real-time speech translation</li>
                            <li>150 Languages</li>
                            <li>Crystal-clear audio understand every word, every tone</li>
                            <li>Secure & private your conversations stay yours</li>
                            <li>Ad-free experience</li>
                            <li>Use on 3 devices—switch between your devices</li>
                            <li>Download languages—access offline translation anytime</li>
                            <li>Access to new features as soon as they're released.</li>
                        </ul>
                        <button class="starter-btn" onclick="document.getElementById('waitlist').scrollIntoView({behavior: 'smooth'})">Sign Up</button>
                    </div>

                    <div class="card pro featured">
                        <h3>Pro</h3>
                        <p class="price">$25</p>
                        <p class="duration">/ month</p>
                        <hr>
                        <ul>
                            <li>Everything in Starter</li>
                            <li>200 minutes included—real-time speech translation</li>
                        </ul>
                        <button class="secondary-btn" onclick="document.getElementById('waitlist').scrollIntoView({behavior: 'smooth'})">Sign Up</button>
                    </div>

                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-main">
                    <div class="footer-logo">
                        <img src="locale logo.png" alt="Locale Logo" class="footer-logo-img">
                        <span class="footer-logo-text">LOCALE</span>
                    </div>
                    <div class="footer-downloads">
                        <h4>Downloads</h4>
                        <ul>
                            <li><a href="#">For iPhone</a></li>
                            <li><a href="#">For Android</a></li>
                            <li><a href="#">For Mac (Soon)</a></li>
                            <li><a href="#">For Windows (Soon)</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <p class="copyright">© 2025 Locale. All rights reserved.</p>
        </div>
    </footer>

    <!-- Features are now handled with regular HTML/CSS/JS -->

    <!-- Card Overlap Animation Script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const secondCard = document.querySelector('.card-2');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        secondCard.classList.add('overlap');
                    } else {
                        secondCard.classList.remove('overlap');
                    }
                });
            }, { threshold: 0.3 });

            observer.observe(secondCard);
        });
    </script>

    <!-- Animated Counter Script -->
    <script>
        function animateCounter(element, target, duration = 2000) {
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                
                // Add + or % based on the target
                if (target === 100) {
                    element.textContent = Math.floor(current) + '%';
                } else if (target === 5) {
                    element.textContent = Math.floor(current) + ' sec';
                } else {
                    element.textContent = '+' + Math.floor(current);
                }
            }, 16);
        }

        // Counter animation observer
        document.addEventListener("DOMContentLoaded", () => {
            const counters = document.querySelectorAll('.number[data-target]');
            const counterObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = parseInt(entry.target.getAttribute('data-target'));
                        animateCounter(entry.target, target);
                        counterObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            counters.forEach(counter => {
                counterObserver.observe(counter);
            });
        });
    </script>

    <!-- Vercel Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    
    <!-- Supabase Integration - Updated for Vercel -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Waitlist Form Script -->
    <script>
        // Supabase configuration - will be set via environment variables on Vercel
        const SUPABASE_URL = 'https://nxjcynetjxlpxsctabpt.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54amN5bmV0anhscHhzY3RhYnB0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNzQ3MDMsImV4cCI6MjA3NDY1MDcwM30.wh21USLaI3as1ISn2OEwgCqkxvRycfUo0OCWd55eaQk';
        
        // Initialize Supabase client
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // Test the connection
        console.log('Supabase client initialized:', supabaseClient);

        // Handle form submission
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById('waitlistForm');
            const waitlistBox = document.querySelector('.waitlist-content');
            const googleBtn = document.getElementById('googleJoin');
            const emailField = document.getElementById('email');
            const suggestionField = document.getElementById('suggestion');

            // When the user types in fields, emphasize the email join button
            const preferEmail = () => {
                waitlistBox.classList.add('prefers-email');
                waitlistBox.classList.remove('prefers-google');
            };
            emailField.addEventListener('focus', preferEmail);
            suggestionField.addEventListener('focus', preferEmail);
            emailField.addEventListener('input', preferEmail);
            suggestionField.addEventListener('input', preferEmail);

            // When the user clicks Google, emphasize the Google button and start OAuth
            googleBtn.addEventListener('click', async () => {
                waitlistBox.classList.add('prefers-google');
                waitlistBox.classList.remove('prefers-email');
                try {
                    const { data, error } = await supabaseClient.auth.signInWithOAuth({
                        provider: 'google',
                        options: { redirectTo: window.location.href }
                    });
                    if (error) {
                        console.error('Google sign-in error:', error);
                        showMessage('Google sign-in failed. Please try again.', 'error');
                    }
                } catch (err) {
                    console.error('Google sign-in unexpected error:', err);
                    showMessage('Google sign-in failed. Please try again.', 'error');
                }
            });
            
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const submitButton = form.querySelector('.join-btn');
                const originalText = submitButton.textContent;
                const emailInput = form.querySelector('#email');
                const suggestionInput = form.querySelector('#suggestion');
                
                // Show loading state
                submitButton.textContent = 'Joining...';
                submitButton.disabled = true;
                
                try {
                    // Get form data
                    const email = emailInput.value.trim();
                    const suggestion = suggestionInput.value.trim();
                    
                    // Basic validation
                    if (!email) {
                        throw new Error('Please enter your email address');
                    }
                    
                    if (!isValidEmail(email)) {
                        throw new Error('Please enter a valid email address');
                    }
                    
                    // Prepare data for Supabase
                    const data = {
                        email: email,
                        suggestion: suggestion || ''
                    };
                    
                    console.log('Submitting to Supabase:', data);
                    
                    // Check if email already exists first
                    try {
                        console.log('Checking if email already exists:', email);
                        
                        const { data: existingUser, error: checkError } = await supabaseClient
                            .from('waitlist')
                            .select('email')
                            .eq('email', email)
                            .single();
                        
                        console.log('Email check result:', { existingUser, checkError });
                        
                        // If user already exists (no error means found)
                        if (existingUser && !checkError) {
                            console.log('Email already exists in waitlist');
                            
                            // Show message that they're already joined
                            submitButton.textContent = 'Already Joined! ✓';
                            submitButton.style.background = '#ffa500';
                            form.reset();
                            
                            showMessage('You\'re already on our waitlist! We\'ll be in touch soon.', 'info');
                            
                            // Reset button after 5 seconds
                            setTimeout(() => {
                                submitButton.textContent = originalText;
                                submitButton.disabled = false;
                                submitButton.style.background = '';
                            }, 5000);
                            
                            return; // Exit the function, don't add duplicate
                        }
                        
                        // If email doesn't exist, add them to the waitlist
                        console.log('Email not found, adding to waitlist:', data);
                        
                        const { data: result, error: insertError } = await supabaseClient
                            .from('waitlist')
                            .insert([data])
                            .select();
                        
                        console.log('Supabase insert response:', { result, insertError });
                        
                        if (insertError) {
                            throw new Error(`Supabase error: ${insertError.message} (Code: ${insertError.code})`);
                        }
                        
                        console.log('Successfully saved to Supabase:', result);
                        
                        // Success - show confirmation
                        submitButton.textContent = 'Joined! ✓';
                        submitButton.style.background = '#4ecdc4';
                        form.reset();
                        
                        // Update community text with smart counting
                        updateCommunityCounter();
                        
                        // Show success message
                        showMessage('Successfully joined the waitlist! We\'ll be in touch soon.', 'success');
                        
                        // Reset button after 5 seconds
                        setTimeout(() => {
                            submitButton.textContent = originalText;
                            submitButton.disabled = false;
                            submitButton.style.background = '';
                        }, 5000);
                        
                    } catch (supabaseError) {
                        console.error('Supabase submission failed:', supabaseError);
                        console.error('Error details:', {
                            message: supabaseError.message,
                            code: supabaseError.code,
                            details: supabaseError.details,
                            hint: supabaseError.hint
                        });
                        
                        // Show the actual error to help debug
                        showMessage(`Database error: ${supabaseError.message}. Check console for details.`, 'error');
                        
                        // Fallback: Store in localStorage and show success
                        const waitlistData = JSON.parse(localStorage.getItem('localeWaitlist') || '[]');
                        waitlistData.push({
                            ...data,
                            id: Date.now(),
                            storedAt: new Date().toISOString()
                        });
                        localStorage.setItem('localeWaitlist', JSON.stringify(waitlistData));
                        
                        // Show success message
                        submitButton.textContent = 'Joined! ✓';
                        submitButton.style.background = '#4ecdc4';
                        form.reset();
                        
                        // Update community text with smart counting
                        updateCommunityCounter();
                        
                        // Reset button after 5 seconds
                        setTimeout(() => {
                            submitButton.textContent = originalText;
                            submitButton.disabled = false;
                            submitButton.style.background = '';
                        }, 5000);
                    }
                    
                } catch (error) {
                    console.error('Error submitting form:', error);
                    
                    // Show error state
                    submitButton.textContent = 'Try Again';
                    submitButton.style.background = '#ff6b6b';
                    
                    // Show specific error message
                    let errorMessage = 'Something went wrong. Please try again.';
                    if (error.message.includes('fetch')) {
                        errorMessage = 'Network error. Please check your internet connection and try again.';
                    } else if (error.message.includes('Server error')) {
                        errorMessage = 'Server is temporarily unavailable. Please try again in a moment.';
                    } else if (error.message) {
                        errorMessage = error.message;
                    }
                    
                    showMessage(errorMessage, 'error');
                    
                    // Reset button after 5 seconds
                    setTimeout(() => {
                        submitButton.textContent = originalText;
                        submitButton.disabled = false;
                        submitButton.style.background = '';
                    }, 5000);
                }
            });
        });
        
        // Email validation function
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // Smart counter function - only increments every 50 actual signups
        function updateCommunityCounter() {
            const communityText = document.querySelector('.community-text');
            const currentCount = parseInt(communityText.textContent.match(/\d+/)[0]);
            
            // Keep the same count - only update when we actually have 50 new signups
            // This function is called on each signup, but we don't increment the display
            // The display should only be updated manually when you have 50 real signups
            console.log('New signup received, but counter stays at:', currentCount);
        }
        
        // Show message to user
        function showMessage(message, type) {
            // Remove existing messages
            const existingMessage = document.querySelector('.form-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            // Create message element
            const messageDiv = document.createElement('div');
            messageDiv.className = `form-message ${type}`;
            messageDiv.textContent = message;
            messageDiv.style.cssText = `
                margin-top: 15px;
                padding: 12px 20px;
                border-radius: 8px;
                font-weight: 600;
                text-align: center;
                transition: all 0.3s ease;
                ${type === 'success' 
                    ? 'background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;' 
                    : type === 'info'
                    ? 'background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb;'
                    : 'background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;'
                }
            `;
            
            // Insert after form
            const form = document.getElementById('waitlistForm');
            form.parentNode.insertBefore(messageDiv, form.nextSibling);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.remove();
                }
            }, 5000);
        }
    </script>

</body>

</html>